create database :
create database online-library;
create user myuser with encrypted password 'mypass';
grant all privileges on database online-library to postgres;



Create Tables:



# su - postgres
# psql -U postgres -d online-library


CREATE TABLE free_books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    summary TEXT,
    author VARCHAR(255) NOT NULL,
    cover_image VARCHAR(500),  
    pdf_file VARCHAR(500),
    pages INT
);


CREATE TABLE paid_books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    summary TEXT,
    author VARCHAR(255) NOT NULL,
    cover_image VARCHAR(500),
    pdf_file VARCHAR(500),
    pages INT,
    price NUMERIC(10,2) NOT NULL  
);


CREATE TABLE articles (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    short_summary TEXT NOT NULL,
    full_text TEXT NOT NULL,
    author VARCHAR(255) NOT NULL,
    cover_image VARCHAR(500),
    reading_time INT
);


CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50),      
    password VARCHAR(255),
    phone VARCHAR(20) UNIQUE NOT NULL,
    is_verified BOOLEAN DEFAULT FALSE,
    role VARCHAR(10) NOT NULL DEFAULT 'user',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);




GRANT SELECT, INSERT, UPDATE, DELETE ON TABLE free_books TO postgres;
ALTER DEFAULT PRIVILEGES IN SCHEMA public

----------------------------------------------------------------------
Errors:

pq: permission denied for table free_books

Solution:
psql -U postgres -d online-library
GRANT SELECT, INSERT, UPDATE, DELETE ON TABLE free_books TO postgres;
ALTER DEFAULT PRIVILEGES IN SCHEMA public
GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO postgres;

----

pq: permission denied for sequence paid_books_id_seq


ALTER TABLE free_books OWNER TO postgres;
ALTER TABLE paid_books OWNER TO postgres;
ALTER TABLE paid_books OWNER TO postgres;
ALTER TABLE users OWNER TO postgres;

ALTER SEQUENCE free_books_id_seq OWNER TO postgres;
ALTER SEQUENCE paid_books_id_seq OWNER TO postgres;
ALTER SEQUENCE articles_id_seq OWNER TO postgres;
ALTER SEQUENCE users_id_seq OWNER TO postgres;